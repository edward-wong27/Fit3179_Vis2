{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Stock prices of 5 Tech Companies over Time.",
    "data": {"url": "https://raw.githubusercontent.com/edward-wong27/Fit3179_Vis2/main/data/New.csv","format": {"parse": {"Date": "utc:'%e/%m/%Y'"}}},
"vconcat":[
  {
    "width": 1000,
    "height": 300,
  "params": [
      {
        "name": "Region_selection",
        "select":{"type": "point","fields": ["Region_Name"]},
        "bind": "legend"        
        }
    ],
    "transform": [
      {"filter": {"param": "Region_selection"}}
    ],
      "mark": {
      "type": "line"
    },
    "encoding": {
      "x": {"timeUnit": "yearmonth", "field": "Date","scale": {"domain": {"param": "brush"}}},
      "y": {"aggregate":"count", "field": "ACCIDENT_NO", "type": "quantitative", "title":"Total Crashes"},
      "color": {"field": "Region_Name", "type": "nominal"}
    }
  },
  {
    "width": 1000,
    "height": 60,
     "mark": {
      "type": "line"
    },
    "params": [
{"name": "brush", "select": {"type": "interval",
"encodings": ["x"]}}

],
"transform": [
      {"filter": {"param": "Region_selection"}}
],
    "encoding": {
      "x": {"timeUnit": "yearmonth", "field": "Date", "title":""},
      "y": {"aggregate":"count", "field": "ACCIDENT_NO", "type": "quantitative","title":""},
      "color": {"field": "Region_Name", "type": "nominal"}

  }
  }
]
}